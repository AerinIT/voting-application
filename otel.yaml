receivers:
  filelog:
    include:
      - /var/log/myapp/*.log
      - /var/log/*.log
    exclude: []

  hostmetrics:
    collection_interval: 60s  # Collect all system metrics every 60 seconds
    scrapers:
      cpu: {}  # Enable CPU metrics
      memory: {}  # Enable memory metrics
      disk: {}  # Enable disk metrics
      network: {}  # Enable network metrics

  prometheus:
    config:
      scrape_configs:
        - job_name: "application_metrics"
          static_configs:
            - targets: ['localhost:8080']  # Example target for your app metrics endpoint
              labels:
                job: "application"

exporters:
  loki:
    endpoint: "http://loki:3100/loki/api/v1/push"  # Loki endpoint for logs
  prometheusremotewrite:
    endpoint: "http://mimir:8080/api/v1/prometheus/write"  # Replace with your Mimir API endpoint

service:
  pipelines:
    logs:
      receivers: [filelog]
      exporters: [loki]
    metrics:
      receivers: [hostmetrics, prometheus]
      exporters: [prometheusremotewrite]  # Use Prometheus Remote Write exporter for metrics

  extensions: []
